Deploying and using a private Point of Presence
=

# Configuring Helm in the Virtual machine (if you dont have it)
1 Deploy HELM if you already dont have it

    curl -fsSL -o get_helm.sh https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3
    chmod 700 get_helm.sh
    ./get_helm.sh

2 If you need to add the path /usr/local/bin to PATH, follow the next steps

    echo $PATH
    export PATH="/usr/local/bin:$PATH"

3 Test to access helm 

    helm version

# Deploy the PoP

1 Access the Instana UI and go to Synthetic Monitoring

2 Select Private point and copy the helm command

3 Modify the command (the following is an example)

        helm install synthetic-pop \
        --repo "https://agents.instana.io/helm" \
        --namespace pop \
        --create-namespace \
        --set downloadKey="uBp4GXpZQpKrHxMXNcvInQ" \
        --set controller.location="Rdillon-test-K3s-PoP;BuenosAires;AR;BA;0;0;RADillon test BA in K3s" \
        --set controller.clusterName="BA-Rdillon-test" \
        --set controller.instanaKey="uBp4GXpZQpKrHxMXNcvInQ" \
        --set controller.instanaSyntheticEndpoint="https://synthetics-orange-saas.instana.io" \
        --set redis.tls.enabled=false \
        --set redis.password="PASSW0rd2019" \
        synthetic-pop



