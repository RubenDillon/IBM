Instana on Premises deployment
=


In this document we will discuss how to deploy Instana on Premises. We will be using one of the deployment models and the easiest way to do that.

For this activity we will need a virtual machine with the following reqs (Demo Installation type)
- 16 vCPU
- 64 GB RAM
- 512 Gb vDisk
- Linux Operating System (we will be using RHEL 9.2)

https://www.ibm.com/docs/en/instana-observability/1.0.299?topic=cluster-system-requirements

xxxy

Prepare the environment
-

1. Validate that the machine have at least free 512 GB, if it not do the following steps to extend your partition ...

If your are using LVM...

```
sudo su

yum install lvm2

df -h

vgdisplay

vgextend sysvg /dev/vdc

vgdisplay

lvextend -l +100%FREEÂ  /dev/mapper/sysvg-lv_var

xfs_growfs /dev/mapper/sysvg-lv_var

df -h

```

If you are not using LVM... and you have for example /dev/vda with devices where /dev/vda4 is "/" and /dev/vdd is another disk (500 GB vDisk)


```
df -h

lsblk

sudo mkfs.xfs /dev/vdd

sudo mkdir /mnt/tempvar

sudo mount /dev/vdd /mnt/tempvar

sudo rsync -avx /var/ /mnt/tempvar/

sudo mv /var /var.backup
sudo mkdir /var

sudo mount /dev/vdd /var

ls /var

sudo blkid /dev/vdd
# (copy the UUID)

sudo nano /etc/fstab
# Add at the end:
# UUID=UUID-HERE   /var   xfs   defaults   0 0

sudo umount /var
sudo mount -a
df -h

sudo rm -rf /var.backup

```

   
3. Configure the VM to support podman (Podman currently is the prefered container for RHEL OS) and install git and wget

```
sudo dnf install -y podman git wget
```


Concert pre reqs 
-

Entitlement keys... https://www.ibm.com/docs/en/concert?topic=deployment-obtaining-entitlement-api-key

1. Download the latest package of the Concert software, using the latest available version number. This package is also available on the Concert GitHub repository. Currently 1.10.0 is the latest version (https://github.com/IBM/Concert/releases)
