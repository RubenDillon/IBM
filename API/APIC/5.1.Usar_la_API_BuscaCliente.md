# (Opcional) Conectar APIC con la API que busca un cliente 

1) Si quieren probar la API que ingresando un ID de Cliente, busca sus datos... esta seria la configuracion para que pueda APIC pasar el IDCliente

<img width="1766" alt="image" src="https://github.com/user-attachments/assets/5204ca13-ad8b-4b05-aec0-7b3b8bd13e5f" />

El siguiente texto seria lo que APIC debe pasar como IDCliente 

      $(target-url)$(request.path)$(request.search)


Modificar nuestra aplicacion para que use APIC
=

1) Para poder hacer uso de APIC en nuestra aplicacion, debemos modificar el proxy que hemos definido en la VM1 (la que publica la Aplicacion). Para ello debemos editar el archivo /etc/httpd/conf/httpd.conf y cambiar donde dice
   
```yaml
ProxyRequests Off
ProxyPass "/api_proxy/" "http://169.59.164.213:8080/api/"
ProxyPassReverse "/api_proxy/" "http://169.59.164.213:8080/api/"
```

por la direccion que APIC ha generado, en nuestro ejemplo 
![image](https://github.com/user-attachments/assets/687106cd-74c1-4a70-8515-d4f8bf830752)

```yaml
<VirtualHost *:8080>
    DocumentRoot /var/www/html

    ProxyRequests Off
    ProxyPass "/api_proxy/" "https://api.us-east-a.apiconnect.ibmappdomain.cloud/api-connect-cx/sandbox/169.59.164.213:8080/api/"
    ProxyPassReverse "/api_proxy/" "https://api.us-east-a.apiconnect.ibmappdomain.cloud/api-connect-cx/sandbox/169.59.164.213:8080/api/"

    SSLProxyEngine On


</VirtualHost>
```

2) Debemos instalar el modulo mod_ssl

            dnf install -y mod_ssl


3) Riniciar el servicio httpd

            systemctl restart httpd
