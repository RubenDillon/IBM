# El siguiente paso es describir la API en formato YAML

Para realizar este paso, tenemos dos opciones... el manual o usando una GenAI 

Paso manual
-

üß™ 1. Crear una colecci√≥n en Postman
    
    1) Abr√≠ Postman.

    2) Hac√© clic en "Collections" ‚Üí "New Collection".

    3) Pon√©le un nombre: por ejemplo Clientes API.

‚ûï 2. Agregar una solicitud (request)
    
    1) Dentro de la colecci√≥n, hac√© clic en "Add a request".

    2) Pon√©le un nombre: por ejemplo Obtener Cliente.

        M√©todo: GET

        URL: http://169.59.164.213:8080/api/clientes.php?id=1

    3) Hac√© clic en "Send" para verificar que funciona correctamente.

    4) Vuelve a generar otros pedidos

<img width="1455" alt="image" src="https://github.com/user-attachments/assets/26324bfc-4a6f-4aaf-954c-da7a5bfd67b4" />


üì§ 3. Exportar la colecci√≥n como OpenAPI

    1) Con la colecci√≥n seleccionada, hac√© clic en los 3 puntitos (‚ãÆ) ‚Üí "Export".

    2) Guard√° el archivo .json localmente.

üõ†Ô∏è 4. Convertir JSON a YAML

    1) Para pasarlo a formato YAML en vez de JSON, pod√©s convertirlo en l√≠nea:

        https://www.json2yaml.com

      O desde consola (si us√°s Node.js):

        npx json2yaml archivo.json > archivo.yaml

üß™ 5. El siguiente es un ejemplo de lo que podrias obtener

```yaml
info:
  _postman_id: db1f8360-442b-49fb-a422-7a9f0432ec3e
  name: New Collection
  schema: https://schema.getpostman.com/json/collection/v2.0.0/collection.json
  _exporter_id: '36727431'
item:
  - name: New Request
    request:
      method: GET
      header: []
      url:
        raw: http://169.59.164.213:8080/api/clientes.php?id=2
        protocol: http
        host:
          - '169'
          - '59'
          - '164'
          - '213'
        port: '8080'
        path:
          - api
          - clientes.php
        query:
          - key: id
            value: '2'
    response: []
  - name: New Request
    request:
      method: GET
      header: []
      url:
        raw: http://169.59.164.213:8080/api/clientes.php?id=1
        protocol: http
        host:
          - '169'
          - '59'
          - '164'
          - '213'
        port: '8080'
        path:
          - api
          - clientes.php
        query:
          - key: id
            value: '1'
    response: []
  - name: New Request
    request:
      method: GET
      header: []
      url:
        raw: http://169.59.164.213:8080/api/clientes.php?id=8
        protocol: http
        host:
          - '169'
          - '59'
          - '164'
          - '213'
        port: '8080'
        path:
          - api
          - clientes.php
        query:
          - key: id
            value: '8'
    response: []
  - name: New Request
    request:
      method: GET
      header: []
      url:
        raw: http://169.59.164.213:8080/api/clientes.php?id=88
        protocol: http
        host:
          - '169'
          - '59'
          - '164'
          - '213'
        port: '8080'
        path:
          - api
          - clientes.php
        query:
          - key: id
            value: '88'
    response: []

¬¥¬¥¬¥
-


---

## üîß VM3: Servidor MySQL (Puerto¬†8080)

1. **Script de instalaci√≥n y configuraci√≥n**

Paso usando una GenAI
-

Otra opcion, es utilizar alguna herramienta IA que genere el YAML para una herramienta de API Management y esta seria su respuesta por ejemplo a un input tal como el siguiente

"Tengo una API y necesito generar un YAML con su definici√≥n. Me prodrias ayudar en generar el YAML de esta API http://169.59.190.191:8080/api_proxy/clientes.php?id=1"


```yaml
openapi: 3.0.0
info:
  title: API de Clientes
  version: 1.0.0
  description: API para consultar informaci√≥n de clientes mediante su ID

servers:
  - url: http://169.59.164.213:8080/api
    description: Servidor API (VM2)

paths:
  /clientes.php:
    get:
      summary: Obtener datos de un cliente por ID
      description: Retorna el nombre, direcci√≥n y pa√≠s de un cliente si existe
      parameters:
        - in: query
          name: id
          schema:
            type: integer
          required: true
          description: ID del cliente a consultar
      responses:
        '200':
          description: Cliente encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  Nombre:
                    type: string
                    example: Juan P√©rez
                  Direccion:
                    type: string
                    example: Calle Falsa 123
                  Pais:
                    type: string
                    example: Argentina
        '400':
          description: ID inv√°lido
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: ID inv√°lido
        '404':
          description: Cliente no encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Cliente no encontrado
        '500':
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Conexi√≥n a base de datos fallida
```

Otra GenAI responderia...
=

```yaml
openapi: 3.0.3
info:
  title: API de Clientes
  description: API para consultar informaci√≥n de clientes por ID
  version: 1.0.0
servers:
  - url: http://169.59.164.213:8080/api
paths:
  /clientes.php:
    get:
      summary: Obtener cliente por ID
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: integer
          description: ID del cliente
      responses:
        '200':
          description: Cliente encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  nombre:
                    type: string
                  email:
                    type: string
        '400':
          description: Solicitud incorrecta
        '404':
          description: Cliente no encontrado

```
